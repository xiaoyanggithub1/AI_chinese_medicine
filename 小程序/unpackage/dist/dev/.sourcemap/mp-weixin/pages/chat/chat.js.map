{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/中医药智能问答系统资料/前端/pages/chat/chat.vue?1e28","webpack:///D:/中医药智能问答系统资料/前端/pages/chat/chat.vue?94ea","webpack:///D:/中医药智能问答系统资料/前端/pages/chat/chat.vue?6186","uni-app:///pages/chat/chat.vue","webpack:///D:/中医药智能问答系统资料/前端/pages/chat/chat.vue?d32d","webpack:///D:/中医药智能问答系统资料/前端/pages/chat/chat.vue?1645"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","maybe_question","talkList","ajax","rows","page","flag","loading","loadText","content","dom","pathogen","mounted","onPageScroll","onLoad","omShow","created","id","text","type","pic","methods","send","uni","title","icon","search","maybe_inquire","havePossibleIssues","types","medicine","inquire","a","haveSymptom","variety","console","setTimeout","scrollTop","duration","success","clickIssues","clickSymptom"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACc;;;AAGjE;AACsM;AACtM,gBAAgB,gNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAgxB,CAAgB,6xBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACuEpyB;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAC;IACA;MACAC;MACAC;MAAA;MACAC;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;MACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;MACA;IAIA;EAEA;EACAC,wCAEA;EACAC,2BAIA;EACAC;EAEAC;IACA;MACAC;MACAR;QACAS;MACA;MACAC;MACAC;IACA;IACA;EACA;EAEAC;IACA;IACAC;MAAA;MACA;QACAC;UACAC;UACAC;QACA;QACA;MACA;;MAEA;MACA;MACA;QACA;QACAhB;UACAS;QACA;QAEA;QACA;MACA;MACA;MAEA;QACAQ;MACA;MACA;MAEA;QACA;UACAA;QACA;QACA;QACA;UAEA;UACA;UACA;UACA;UACA;YACA;cACAT;cACAR;gBACAS;cACA;cACAC;cACAC;YACA;YACA;UACA;YACA;YACA;cACA;cACA;gBACAF;cACA;gBACAA;cACA;gBACAA;cACA;cACAS;YACA;cACA;gBACAT;cACA;gBACAA;cACA;gBACAA;cACA;cACAS;YACA;cACA;gBACAT;cACA;gBACAA;cACA;cACAS;YACA;cACA;gBACAT;cACA;gBACAA;cACA;gBACAA;cACA;cACAS;YACA;cACA;gBACAT;cACA;gBACAA;cACA;gBACAA;cACA;cACAS;YACA;cACA;gBACAT;cACA;gBACAA;cACA;gBACAA;cACA;cACAS;YACA;cACA;gBACAT;cACA;gBACAA;cACA;gBACAA;cACA;cACAS;YACA;cACA;gBACAT;cACA;cACAS;YACA;cACA;gBACAT;cACA;cACAS;YACA;cACA;gBACAT;cACA;gBACAA;cACA;cACAS;YACA;cACA;gBACAT;cACA;gBACAA;cACA;cACAS;YACA;cACA;gBACAT;cACA;cACAS;YACA;YACA;cACAV;cACAR;gBACAS;gBACAU;cACA;cACAT;cACAU;cACAT;YACA;YACA;UAEA;YAEA;YAEA;YACA;cACA;cACA;cACA;gBACAU;gBACAZ;cACA;cACAa;cACAC;YACA;YAEA;cACAf;cACAR;gBACAwB;cACA;cACAd;cACAC;cACAc;cACAL;YACA;YACA;YACAM;UACA;UACA;YACAC;cACAb;gBACAc;gBAAA;gBACAC;cACA;YACA;UACA;QAEA;QACA;QACA;QAEAf;UACAc;UAAA;UACAC;UACAC;QACA;MACA;IACA;IACA;IACAC;MAAA;MAEA;;MAEA;MACA;MACAxC;MAEA;QACA0B;MACA;MACA;MACA;QACA;UACAT;UACAR;YACAS;UACA;UACAC;UACAC;QACA;QACA;QACA;UACAgB;YACAb;cACAc;cAAA;cACAC;YACA;UACA;QACA;MACA;IACA;IAEA;IACAG;MACAN;MACA;MAGA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;;MACA;QACAlB;QACAR;UACAS;QACA;QACAC;QACAC;MACA;MACA;MAEA;QACAgB;UACAb;YACAc;YAAA;YACAC;UACA;QACA;MACA;IAEA;EAGA;AACA;AAAA,2B;;;;;;;;;;;;;ACjZA;AAAA;AAAA;AAAA;AAAu8C,CAAgB,w5CAAG,EAAC,C;;;;;;;;;;;ACA39C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/chat/chat.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/chat/chat.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./chat.vue?vue&type=template&id=bf16e7f4&\"\nvar renderjs\nimport script from \"./chat.vue?vue&type=script&lang=js&\"\nexport * from \"./chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chat.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/chat/chat.vue\"\nexport default component.exports","export * from \"-!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=template&id=bf16e7f4&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.talkList, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var g0 =\n      item.content.havePossibleIssues &&\n      item.content.havePossibleIssues.length > 0\n    var g1 = item.content.haveSymptom && item.content.haveSymptom.length > 0\n    return {\n      $orig: $orig,\n      g0: g0,\n      g1: g1,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\r\n\t\t<view class=\"box-1\" id=\"list-box\" ref=\"overf\">\r\n\t\t\t<view class=\"talk-list\">\r\n\t\t\t\t<view v-for=\"(item,index) in talkList\" :key=\"index\" :id=\"`msg-${item.id}`\">\r\n\r\n\t\t\t\t\t<view class=\"item flex_col\" :class=\" item.type == 1 ? 'push':'pull' \">\r\n\t\t\t\t\t\t<image :src=\"item.pic\" mode=\"aspectFill\" class=\"pic\"></image>\r\n\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t<!-- 基本文本回复 -->\r\n\t\t\t\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t\t\t\t<text>{{item.content.text}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<!-- 你可能还想问 -->\r\n\t\t\t\t\t\t\t<view class=\"hava-possible-issues\"\r\n\t\t\t\t\t\t\t\tv-if=\"item.content.havePossibleIssues&&item.content.havePossibleIssues.length>0\">\r\n\t\t\t\t\t\t\t\t<!-- 分割线 -->\r\n\t\t\t\t\t\t\t\t<view class=\"divider\">\r\n\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t\t\t\t<!-- 你可能还想问： -->\r\n\t\t\t\t\t\t\t\t\t{{maybe_question}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t<view class=\"issues-container\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"issues-item\" v-for=\"(itm,idx) in item.content.havePossibleIssues\"\r\n\t\t\t\t\t\t\t\t\t\t:key=\"idx\" @click=\"clickIssues(itm,item)\">\r\n\t\t\t\t\t\t\t\t\t\t<text :class=\"{textType:item.types==2}\">{{itm.text}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<!-- 可能存在的症状 -->\r\n\t\t\t\t\t\t\t<view class=\"hava-possible-issues\"\r\n\t\t\t\t\t\t\t\tv-if=\"item.content.haveSymptom&&item.content.haveSymptom.length>0\">\r\n\t\t\t\t\t\t\t\t<!-- 分割线 -->\r\n\t\t\t\t\t\t\t\t<view class=\"divider\">\r\n\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t\t\t\t你是否存在以下情况：\r\n\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t<view class=\"issues-container\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"symptom-item\" v-for=\"(itm,idx) in item.content.haveSymptom\" :key=\"idx\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"clickSymptom(itm,item)\">\r\n\t\t\t\t\t\t\t\t\t\t<text :class=\"{textType:item.types==2}\">{{itm.text}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"box-2\" ref=\"box2\">\r\n\t\t\t<view class=\"flex_col\">\r\n\t\t\t\t<view class=\"flex_grow\">\r\n\t\t\t\t\t<input type=\"text\" class=\"content\" v-model=\"content\" placeholder=\"请输入问题\"\r\n\t\t\t\t\t\tplaceholder-style=\"color:#DDD;\" :cursor-spacing=\"6\">\r\n\t\t\t\t</view>\r\n\t\t\t\t<button class=\"send\" @tap=\"send\">发送</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tquery\r\n\t} from \"../../api/intelligent.js\"\r\n\timport search from \"../../uni_modules/uview-ui/libs/config/props/search.js\";\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmaybe_question: \"你可能还想问：\",\r\n\t\t\t\ttalkList: [], //消息列表\r\n\t\t\t\tajax: {\r\n\t\t\t\t\trows: 20, //每页数量\r\n\t\t\t\t\tpage: 1, //页码\r\n\t\t\t\t\tflag: true, // 请求开关\r\n\t\t\t\t\tloading: true, // 加载中\r\n\t\t\t\t\tloadText: '正在获取消息'\r\n\t\t\t\t},\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tdom: null,\r\n\t\t\t\tpathogen: \"\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// ok\r\n\t\t\tif (uni.getSystemInfoSync().uniPlatform != \"mp-weixin\") {\r\n\t\t\t\tthis.$refs.box2.$el.style.bottom = '50px'\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonPageScroll(e) {\r\n\r\n\t\t},\r\n\t\tonLoad() {\r\n\r\n\r\n\r\n\t\t},\r\n\t\tomShow() {},\r\n\r\n\t\tcreated() {\r\n\t\t\tlet data = {\r\n\t\t\t\tid: new Date().getTime(),\r\n\t\t\t\tcontent: {\r\n\t\t\t\t\ttext: `欢迎来到AI中医馆,你可以向我们询问,例如:\\n1.百日咳可以用什么方剂治疗\\n2.我咳嗽怎么办\\n3.焦虑症吃点什么好\\n4.得了百日咳不能吃什么\\n5.南瓜子仁可以治疗什么疾病\\n`,\r\n\t\t\t\t},\r\n\t\t\t\ttype: 0,\r\n\t\t\t\tpic: \"https://axy-uni.oss-cn-beijing.aliyuncs.com/pic.png\"\r\n\t\t\t}\r\n\t\t\tthis.talkList.push(data);\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t// 发送信息\r\n\t\t\tsend() {\r\n\t\t\t\tif (!this.content) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入有效的内容',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// uni.hideLoading();\r\n\t\t\t\t// 将当前发送信息 添加到消息列表。\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\t\"id\": new Date().getTime(),\r\n\t\t\t\t\tcontent: {\r\n\t\t\t\t\t\ttext: this.content,\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\"type\": 1,\r\n\t\t\t\t\t\"pic\": \"https://axy-uni.oss-cn-beijing.aliyuncs.com/user.png\"\r\n\t\t\t\t}\r\n\t\t\t\tthis.talkList.push(data);\r\n\r\n\t\t\t\tlet pathogen = {\r\n\t\t\t\t\tsearch: data.content.text\r\n\t\t\t\t}\r\n\t\t\t\tthis.pathogen = pathogen\r\n\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tlet search_data = {\r\n\t\t\t\t\t\tsearch: this.pathogen.search\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//问题请求\r\n\t\t\t\t\tquery(search_data).then((res) => {\r\n\r\n\t\t\t\t\t\tconst res_type = res.type\r\n\t\t\t\t\t\tconst res_variety = res.variety\r\n\t\t\t\t\t\tconst res_orig = res.orig\r\n\t\t\t\t\t\t// console.log(res_type,'res_type')\r\n\t\t\t\t\t\tif (res_type == 0) {\r\n\t\t\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\t\t\tid: new Date().getTime(),\r\n\t\t\t\t\t\t\t\tcontent: {\r\n\t\t\t\t\t\t\t\t\ttext: res.data,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\ttype: 0,\r\n\t\t\t\t\t\t\t\tpic: \"/static/image/other/pic.png\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.talkList.push(data);\r\n\t\t\t\t\t\t} else if (res_type == 1) {\r\n\t\t\t\t\t\t\tlet maybe_inquire = []\r\n\t\t\t\t\t\t\tif (res_variety == 1) {\r\n\t\t\t\t\t\t\t\t// console.log(\"ssss\");\r\n\t\t\t\t\t\t\t\tlet a = [{\r\n\t\t\t\t\t\t\t\t\ttext: '你可能还想问' + res_orig + '的用法？'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttext: '你可能还想问' + res_orig + '可以治疗的疾病？'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttext: '你可能还想问' + res_orig + '由什么中药组成？'\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\tmaybe_inquire = a\r\n\t\t\t\t\t\t\t} else if (res_variety == 2) {\r\n\t\t\t\t\t\t\t\tlet a = [{\r\n\t\t\t\t\t\t\t\t\ttext: '你可能还想问' + res_orig + '的用法？'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttext: '你可能还想问' + res_orig + '可以治疗的疾病？'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttext: '你可能还想问' + res_orig + '由什么中药组成？'\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\tmaybe_inquire = a\r\n\t\t\t\t\t\t\t} else if (res_variety == 3) {\r\n\t\t\t\t\t\t\t\tlet a = [{\r\n\t\t\t\t\t\t\t\t\ttext: '1.你可能还想问' + res_orig + '可以治疗的疾病？'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttext: '2.你可能还想问' + res_orig + '由什么中药组成？'\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\tmaybe_inquire = a\r\n\t\t\t\t\t\t\t} else if (res_variety == 4) {\r\n\t\t\t\t\t\t\t\tlet a = [{\r\n\t\t\t\t\t\t\t\t\ttext: '1.你可能还想问' + res_orig + '的用法？'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttext: '2.你可能还想问' + res_orig + '可以治疗的症状？'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttext: '3.你可能还想问' + res_orig + '由什么中药组成？'\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\tmaybe_inquire = a\r\n\t\t\t\t\t\t\t} else if (res_variety == 5) {\r\n\t\t\t\t\t\t\t\tlet a = [{\r\n\t\t\t\t\t\t\t\t\ttext: '1.你可能还想问' + res_orig + '的用法？'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttext: '2.你可能还想问' + res_orig + '可以治疗的疾病？'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttext: '3.你可能还想问' + res_orig + '由什么中药组成？'\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\tmaybe_inquire = a\r\n\t\t\t\t\t\t\t} else if (res_variety == 6) {\r\n\t\t\t\t\t\t\t\tlet a = [{\r\n\t\t\t\t\t\t\t\t\ttext: '1.你可能还想问' + res_orig + '可以治疗的疾病？'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttext: '2.你可能还想问' + res_orig + '的用法？'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttext: '3.你可能还想问' + res_orig + '可以治疗的症状？'\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\tmaybe_inquire = a\r\n\t\t\t\t\t\t\t} else if (res_variety == 7) {\r\n\t\t\t\t\t\t\t\tlet a = [{\r\n\t\t\t\t\t\t\t\t\ttext: '1.你可能还想问' + res_orig + '可以治疗的疾病？'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttext: '2.你可能还想问' + res_orig + '的用法？'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttext: '3.你可能还想问' + res_orig + '可以治疗的症状？'\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\tmaybe_inquire = a\r\n\t\t\t\t\t\t\t} else if (res_variety == 8) {\r\n\t\t\t\t\t\t\t\tlet a = [{\r\n\t\t\t\t\t\t\t\t\ttext: res_orig + '可以吃的食物'\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\tmaybe_inquire = a\r\n\t\t\t\t\t\t\t} else if (res_variety == 9) {\r\n\t\t\t\t\t\t\t\tlet a = [{\r\n\t\t\t\t\t\t\t\t\ttext: res_orig + '不可以吃的食物'\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\tmaybe_inquire = a\r\n\t\t\t\t\t\t\t} else if (res_variety == 10) {\r\n\t\t\t\t\t\t\t\tlet a = [{\r\n\t\t\t\t\t\t\t\t\ttext: '这些疾病' + '可以用什么方剂治疗'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttext: '这些疾病' + '吃点什么好'\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\tmaybe_inquire = a\r\n\t\t\t\t\t\t\t} else if (res_variety == 11) {\r\n\t\t\t\t\t\t\t\tlet a = [{\r\n\t\t\t\t\t\t\t\t\ttext: '这些疾病' + '可以用什么方剂治疗'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttext: '这些疾病' + '吃点什么好'\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\tmaybe_inquire = a\r\n\t\t\t\t\t\t\t} else if (res_variety == 12) {\r\n\t\t\t\t\t\t\t\tlet a = [{\r\n\t\t\t\t\t\t\t\t\ttext: '为你查找到了以下疾病或症状，你想查找那种疾病或症状呢？'\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\tmaybe_inquire = a\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\t\t\tid: new Date().getTime(),\r\n\t\t\t\t\t\t\t\tcontent: {\r\n\t\t\t\t\t\t\t\t\ttext: res.data,\r\n\t\t\t\t\t\t\t\t\thavePossibleIssues: maybe_inquire,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\ttype: 0,\r\n\t\t\t\t\t\t\t\ttypes: res_type,\r\n\t\t\t\t\t\t\t\tpic: \"/static/image/other/pic.png\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.talkList.push(data);\r\n\r\n\t\t\t\t\t\t} else if (res_type == 2) {\r\n\r\n\t\t\t\t\t\t\tlet inquire = []\r\n\r\n\t\t\t\t\t\t\tlet a = 1\r\n\t\t\t\t\t\t\tfor (var i in res.data) {\r\n\t\t\t\t\t\t\t\tvar i;\r\n\t\t\t\t\t\t\t\tvar dataObj = res.data[i];\r\n\t\t\t\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\t\t\t\tmedicine: i,\r\n\t\t\t\t\t\t\t\t\ttext: a + '.' + dataObj\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tinquire.push(obj)\r\n\t\t\t\t\t\t\t\ta++\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\t\t\tid: new Date().getTime(),\r\n\t\t\t\t\t\t\t\tcontent: {\r\n\t\t\t\t\t\t\t\t\thaveSymptom: inquire\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\ttype: 0,\r\n\t\t\t\t\t\t\t\tpic: \"/static/image/other/pic.png\",\r\n\t\t\t\t\t\t\t\tvariety: res_variety,\r\n\t\t\t\t\t\t\t\ttypes: res_type,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.talkList.push(data);\r\n\t\t\t\t\t\t\tconsole.log(this.talkList)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\t\t\t\t\tscrollTop: 9999, // 设置一个超大值，以保证滚动条滚动到底部\r\n\t\t\t\t\t\t\t\t\tduration: 0,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// 清空内容框中的内容\r\n\t\t\t\t\tthis.content = '';\r\n\r\n\t\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\t\tscrollTop: 999999999, // 设置一个超大值，以保证滚动条滚动到底部\r\n\t\t\t\t\t\tduration: 0,\r\n\t\t\t\t\t\tsuccess: () => {}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 点击可能存在的问题\r\n\t\t\tclickIssues(item) {\r\n\r\n\t\t\t\tlet data = item.text\r\n\r\n\t\t\t\t// 开始裁剪的位置\r\n\t\t\t\tconst star = data.indexOf('你可能还想问') + 6\r\n\t\t\t\tdata = data.substring(star, data.length)\r\n\r\n\t\t\t\tlet search_data = {\r\n\t\t\t\t\tsearch: data\r\n\t\t\t\t}\r\n\t\t\t\t//问题请求\r\n\t\t\t\tquery(search_data).then((res) => {\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\tid: new Date().getTime(),\r\n\t\t\t\t\t\tcontent: {\r\n\t\t\t\t\t\t\ttext: res.data,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttype: 0,\r\n\t\t\t\t\t\tpic: \"/static/image/other/pic.png\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.talkList.push(data);\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\t\t\t\tscrollTop: 9999, // 设置一个超大值，以保证滚动条滚动到底部\r\n\t\t\t\t\t\t\t\tduration: 0,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 点击可能存在的症状\r\n\t\t\tclickSymptom(item, items) {\r\n\t\t\t\tconsole.log(item, items);\r\n\t\t\t\tlet text = item.text.split('.').slice(-1)\r\n\r\n\r\n\t\t\t\tif (items.variety == 5) {\r\n\t\t\t\t\tconst search = item.medicine + '用法'\r\n\t\t\t\t\tthis.content = search\r\n\t\t\t\t\tthis.send()\r\n\t\t\t\t\t// query({search:item.medicine+'方剂组成'}).then(res=>{\r\n\t\t\t\t\t// \tconsole.log(res,'res')\r\n\t\t\t\t\t// })\r\n\t\t\t\t}\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tid: new Date().getTime(),\r\n\t\t\t\t\tcontent: {\r\n\t\t\t\t\t\ttext: text[0] + \"。这些症状适应的方剂是：\" + item.medicine,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype: 0,\r\n\t\t\t\t\tpic: \"/static/image/other/pic.png\"\r\n\t\t\t\t}\r\n\t\t\t\tthis.talkList.push(data);\r\n\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\t\t\tscrollTop: 9999, // 设置一个超大值，以保证滚动条滚动到底部\r\n\t\t\t\t\t\t\tduration: 0,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import \"../../libs/global.scss\";\r\n\r\n\tpage {\r\n\t\tbackground-color: #F3F3F3;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.textType {\r\n\t\ttext-decoration: underline;\r\n\t\t// border: 5rpx solid #F3F3F3;\r\n\t}\r\n\r\n\t/* 加载数据提示 */\r\n\t.tips {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\ttop: var(--window-top);\r\n\t\twidth: 100%;\r\n\t\tz-index: 9;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.15);\r\n\t\theight: 72rpx;\r\n\t\tline-height: 72rpx;\r\n\t\ttransform: translateY(-80rpx);\r\n\t\ttransition: transform 0.3s ease-in-out 0s;\r\n\r\n\t\t&.show {\r\n\t\t\ttransform: translateY(0);\r\n\t\t}\r\n\t}\r\n\r\n\t.box-1 {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tpadding-bottom: 100rpx;\r\n\t\tbox-sizing: content-box;\r\n\t\toverflow-y: auto;\r\n\r\n\t\t/* 兼容iPhoneX */\r\n\t\tmargin-bottom: 0;\r\n\t\tmargin-bottom: constant(safe-area-inset-bottom);\r\n\t\tmargin-bottom: env(safe-area-inset-bottom);\r\n\t}\r\n\r\n\t.box-2 {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\tbottom: -40px;\r\n\t\theight: auto;\r\n\t\tz-index: 2;\r\n\t\tborder-top: #e5e5e5 solid 1px;\r\n\t\tbox-sizing: content-box;\r\n\t\tbackground-color: #F3F3F3;\r\n\r\n\r\n\t\t/* 兼容iPhoneX */\r\n\t\tpadding-bottom: 0;\r\n\t\tpadding-bottom: constant(safe-area-inset-bottom);\r\n\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\r\n\t\t>view {\r\n\t\t\tpadding: 0 20rpx;\r\n\t\t\theight: 100rpx;\r\n\t\t}\r\n\r\n\t\t.content {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\theight: 64rpx;\r\n\t\t\tpadding: 0 20rpx;\r\n\t\t\tborder-radius: 32rpx;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t}\r\n\r\n\t\t.send {\r\n\t\t\tbackground-color: #42b983;\r\n\t\t\tcolor: #fff;\r\n\t\t\theight: 64rpx;\r\n\t\t\tmargin-left: 20rpx;\r\n\t\t\tborder-radius: 32rpx;\r\n\t\t\tpadding: 0;\r\n\t\t\twidth: 120rpx;\r\n\t\t\tline-height: 62rpx;\r\n\r\n\t\t\t&:active {\r\n\t\t\t\tbackground-color: #5fc496;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.talk-list {\r\n\t\tpadding-bottom: 20rpx;\r\n\r\n\t\t/* 消息项，基础类 */\r\n\t\t.item {\r\n\t\t\tpadding: 20rpx 20rpx 0 20rpx;\r\n\t\t\talign-items: flex-start;\r\n\t\t\talign-content: flex-start;\r\n\t\t\tcolor: #333;\r\n\r\n\t\t\t.pic {\r\n\t\t\t\twidth: 92rpx;\r\n\t\t\t\theight: 92rpx;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tborder: #fff solid 1px;\r\n\t\t\t}\r\n\r\n\t\t\t.content {\r\n\t\t\t\tpadding: 20rpx;\r\n\t\t\t\tborder-radius: 4px;\r\n\t\t\t\tmax-width: 500rpx;\r\n\t\t\t\tword-break: break-all;\r\n\t\t\t\tline-height: 52rpx;\r\n\t\t\t\tposition: relative;\r\n\r\n\t\t\t\t.hava-possible-issues {\r\n\t\t\t\t\tmargin-top: 10rpx;\r\n\t\t\t\t\twidth: 100%;\r\n\r\n\t\t\t\t\t.divider {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 5rpx;\r\n\t\t\t\t\t\tbackground-color: #42B983;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.title {\r\n\r\n\t\t\t\t\t\tcolor: #42B983;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.issues-item {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\tmargin-bottom: 5rpx;\r\n\t\t\t\t\t\tcolor: #909399;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.symptom-item {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tpadding-bottom: 5px;\r\n\t\t\t\t\t\tcolor: #909399;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/* 收到的消息 */\r\n\t\t\t&.pull {\r\n\t\t\t\t.content {\r\n\t\t\t\t\tmargin-left: 32rpx;\r\n\t\t\t\t\tbackground-color: #fff;\r\n\r\n\t\t\t\t\t&::after {\r\n\t\t\t\t\t\tcontent: '';\r\n\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\twidth: 0;\r\n\t\t\t\t\t\theight: 0;\r\n\t\t\t\t\t\tborder-top: 16rpx solid transparent;\r\n\t\t\t\t\t\tborder-bottom: 16rpx solid transparent;\r\n\t\t\t\t\t\tborder-right: 20rpx solid #fff;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\ttop: 30rpx;\r\n\t\t\t\t\t\tleft: -18rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/* 发出的消息 */\r\n\t\t\t&.push {\r\n\t\t\t\t/* 主轴为水平方向，起点在右端。使不修改DOM结构，也能改变元素排列顺序 */\r\n\t\t\t\tflex-direction: row-reverse;\r\n\r\n\t\t\t\t.content {\r\n\t\t\t\t\tmargin-right: 32rpx;\r\n\t\t\t\t\tbackground-color: #a0e959;\r\n\r\n\t\t\t\t\t&::after {\r\n\t\t\t\t\t\tcontent: '';\r\n\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\twidth: 0;\r\n\t\t\t\t\t\theight: 0;\r\n\t\t\t\t\t\tborder-top: 16rpx solid transparent;\r\n\t\t\t\t\t\tborder-bottom: 16rpx solid transparent;\r\n\t\t\t\t\t\tborder-left: 20rpx solid #a0e959;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\ttop: 30rpx;\r\n\t\t\t\t\t\tright: -18rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1683726603218\n      var cssReload = require(\"D:/HbuilderX/HBuilderX.3.7.3.20230223/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}