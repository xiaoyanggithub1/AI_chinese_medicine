(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chat-chat"],{"36ca":function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return n})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[e("v-uni-view",{ref:"overf",staticClass:"box-1",attrs:{id:"list-box"}},[e("v-uni-view",{staticClass:"talk-list"},t._l(t.talkList,(function(a,i){return e("v-uni-view",{key:i,attrs:{id:"msg-"+a.id}},[e("v-uni-view",{staticClass:"item flex_col",class:1==a.type?"push":"pull"},[e("v-uni-image",{staticClass:"pic",attrs:{src:a.pic,mode:"aspectFill"}}),e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"text"},[e("v-uni-text",[t._v(t._s(a.content.text))])],1),a.content.havePossibleIssues&&a.content.havePossibleIssues.length>0?e("v-uni-view",{staticClass:"hava-possible-issues"},[e("v-uni-view",{staticClass:"divider"}),e("v-uni-view",{staticClass:"title"},[t._v(t._s(t.maybe_question))]),e("v-uni-view",{staticClass:"issues-container"},t._l(a.content.havePossibleIssues,(function(i,n){return e("v-uni-view",{key:n,staticClass:"issues-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickIssues(i,a)}}},[e("v-uni-text",{class:{textType:2==a.types}},[t._v(t._s(i.text))])],1)})),1)],1):t._e(),a.content.haveSymptom&&a.content.haveSymptom.length>0?e("v-uni-view",{staticClass:"hava-possible-issues"},[e("v-uni-view",{staticClass:"divider"}),e("v-uni-view",{staticClass:"title"},[t._v("你是否存在以下情况：")]),e("v-uni-view",{staticClass:"issues-container"},t._l(a.content.haveSymptom,(function(i,n){return e("v-uni-view",{key:n,staticClass:"symptom-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickSymptom(i,a)}}},[e("v-uni-text",{class:{textType:2==a.types}},[t._v(t._s(i.text))])],1)})),1)],1):t._e()],1)],1)],1)})),1)],1),e("v-uni-view",{ref:"box2",staticClass:"box-2"},[e("v-uni-view",{staticClass:"flex_col"},[e("v-uni-view",{staticClass:"flex_grow"},[e("v-uni-input",{staticClass:"content",attrs:{type:"text",placeholder:"请输入问题","placeholder-style":"color:#DDD;","cursor-spacing":6},model:{value:t.content,callback:function(a){t.content=a},expression:"content"}})],1),e("v-uni-button",{staticClass:"send",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.send.apply(void 0,arguments)}}},[t._v("发送")])],1)],1)],1)},n=[]},"6f8c":function(t,a,e){"use strict";var i=e("d662"),n=e.n(i);n.a},7573:function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,'@charset "UTF-8";\r\n/* uni.scss */\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 根元素样式 设置页面背景、字体大小、字体颜色，字符间距、长单词换行 */uni-page-body[data-v-3018aac2]{background-color:#f3f3f3;font-size:%?28?%;box-sizing:border-box;color:#333;letter-spacing:0;word-wrap:break-word}body.?%PAGE?%[data-v-3018aac2]{background-color:#f3f3f3}\r\n/* 设置常用元素尺寸规则 */uni-view[data-v-3018aac2], uni-textarea[data-v-3018aac2], uni-input[data-v-3018aac2], uni-label[data-v-3018aac2], uni-form[data-v-3018aac2], uni-button[data-v-3018aac2], uni-image[data-v-3018aac2]{box-sizing:border-box}\r\n/* 按钮样式处理 */uni-button[data-v-3018aac2]{font-size:%?28?%}\r\n/* 取消按钮默认的边框线效果 */uni-button[data-v-3018aac2]:after{border:none}\r\n/* 设置图片默认样式，取消默认尺寸 */uni-image[data-v-3018aac2]{display:block;height:auto;width:auto}\r\n/* 输入框默认字体大小 */uni-textarea[data-v-3018aac2], uni-input[data-v-3018aac2]{font-size:%?28?%}\r\n/* 列式弹性盒子 */.flex_col[data-v-3018aac2]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;align-items:center;align-content:center}\r\n/* 行式弹性盒子 */.flex_row[data-v-3018aac2]{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:flex-start;align-content:flex-start}\r\n/* 弹性盒子弹性容器 */.flex_col .flex_grow[data-v-3018aac2]{width:0;flex-grow:1}.flex_row .flex_grow[data-v-3018aac2]{flex-grow:1}\r\n/* 弹性盒子允许换行 */.flex_col.flex_wrap[data-v-3018aac2]{flex-wrap:wrap}\r\n/* 弹性盒子居中对齐 */.flex_col.flex_center[data-v-3018aac2], .flex_row.flex_center[data-v-3018aac2]{justify-content:center}\r\n/* 列式弹性盒子两端对齐 */.flex_col.flex_space[data-v-3018aac2]{justify-content:space-between}\r\n/* 弹性盒子快速分栏 ,这里非常郁闷 uniapp 居然不支持 * 选择器 */.flex_col.flex_col_2 > uni-view[data-v-3018aac2]{width:50%}.flex_col.flex_col_3 > uni-view[data-v-3018aac2]{width:33.33333%}.flex_col.flex_col_4 > uni-view[data-v-3018aac2]{width:25%}.flex_col.flex_col_5 > uni-view[data-v-3018aac2]{width:20%}.flex_col.flex_col_6 > uni-view[data-v-3018aac2]{width:16.66666%}\r\n/* 字体颜色 */.color_333[data-v-3018aac2]{color:#333}.color_666[data-v-3018aac2]{color:#666}.color_999[data-v-3018aac2]{color:#999}.color_ccc[data-v-3018aac2]{color:#ccc}.color_fff[data-v-3018aac2]{color:#fff}.color_6dc[data-v-3018aac2]{color:#6dca6d}.color_d51[data-v-3018aac2]{color:#d51917}.color_09f[data-v-3018aac2]{color:#09f}\r\n/* 背景色*/.bg_fff[data-v-3018aac2]{background-color:#fff}\r\n/* 字体大小 */.size_10[data-v-3018aac2]{font-size:%?20?%}.size_12[data-v-3018aac2]{font-size:%?24?%}.size_14[data-v-3018aac2]{font-size:%?28?%}.size_16[data-v-3018aac2]{font-size:%?32?%}.size_18[data-v-3018aac2]{font-size:%?36?%}.size_20[data-v-3018aac2]{font-size:%?40?%}\r\n/* 字体加粗 */.font_b[data-v-3018aac2]{font-weight:700}\r\n/* 对齐方式 */.align_c[data-v-3018aac2]{text-align:center}.align_l[data-v-3018aac2]{text-align:left}.align_r[data-v-3018aac2]{text-align:right}\r\n/* 遮罩 */.shade[data-v-3018aac2]{position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.8);z-index:100}\r\n/* 弹窗 */.shade_box[data-v-3018aac2]{position:fixed;top:0;right:0;bottom:0;left:0;margin:auto;z-index:101;min-width:%?200?%;min-height:%?200?%}uni-page-body[data-v-3018aac2]{background-color:#f3f3f3;font-size:%?28?%}body.?%PAGE?%[data-v-3018aac2]{background-color:#f3f3f3}.textType[data-v-3018aac2]{text-decoration:underline}\r\n/* 加载数据提示 */.tips[data-v-3018aac2]{position:fixed;left:0;top:var(--window-top);width:100%;z-index:9;background-color:rgba(0,0,0,.15);height:%?72?%;line-height:%?72?%;-webkit-transform:translateY(%?-80?%);transform:translateY(%?-80?%);transition:-webkit-transform .3s ease-in-out 0s;transition:transform .3s ease-in-out 0s;transition:transform .3s ease-in-out 0s,-webkit-transform .3s ease-in-out 0s}.tips.show[data-v-3018aac2]{-webkit-transform:translateY(0);transform:translateY(0)}.box-1[data-v-3018aac2]{width:100%;height:auto;padding-bottom:%?100?%;box-sizing:initial;overflow-y:auto;\r\n  /* 兼容iPhoneX */margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom);margin-bottom:env(safe-area-inset-bottom)}.box-2[data-v-3018aac2]{position:fixed;left:0;width:100%;bottom:-40px;height:auto;z-index:2;border-top:#e5e5e5 solid 1px;box-sizing:initial;background-color:#f3f3f3;\r\n  /* 兼容iPhoneX */padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.box-2 > uni-view[data-v-3018aac2]{padding:0 %?20?%;height:%?100?%}.box-2 .content[data-v-3018aac2]{background-color:#fff;height:%?64?%;padding:0 %?20?%;border-radius:%?32?%;font-size:%?28?%}.box-2 .send[data-v-3018aac2]{background-color:#42b983;color:#fff;height:%?64?%;margin-left:%?20?%;border-radius:%?32?%;padding:0;width:%?120?%;line-height:%?62?%}.box-2 .send[data-v-3018aac2]:active{background-color:#5fc496}.talk-list[data-v-3018aac2]{padding-bottom:%?20?%\r\n  /* 消息项，基础类 */}.talk-list .item[data-v-3018aac2]{padding:%?20?% %?20?% 0 %?20?%;align-items:flex-start;align-content:flex-start;color:#333\r\n  /* 收到的消息 */\r\n  /* 发出的消息 */}.talk-list .item .pic[data-v-3018aac2]{width:%?92?%;height:%?92?%;border-radius:50%;border:#fff solid 1px}.talk-list .item .content[data-v-3018aac2]{padding:%?20?%;border-radius:4px;max-width:%?500?%;word-break:break-all;line-height:%?52?%;position:relative}.talk-list .item .content .hava-possible-issues[data-v-3018aac2]{margin-top:%?10?%;width:100%}.talk-list .item .content .hava-possible-issues .divider[data-v-3018aac2]{width:100%;height:%?5?%;background-color:#42b983}.talk-list .item .content .hava-possible-issues .title[data-v-3018aac2]{color:#42b983}.talk-list .item .content .hava-possible-issues .issues-item[data-v-3018aac2]{width:100%;overflow:hidden;text-overflow:ellipsis;margin-bottom:%?5?%;color:#909399}.talk-list .item .content .hava-possible-issues .symptom-item[data-v-3018aac2]{width:100%;padding-bottom:5px;color:#909399}.talk-list .item.pull .content[data-v-3018aac2]{margin-left:%?32?%;background-color:#fff}.talk-list .item.pull .content[data-v-3018aac2]::after{content:"";display:block;width:0;height:0;border-top:%?16?% solid transparent;border-bottom:%?16?% solid transparent;border-right:%?20?% solid #fff;position:absolute;top:%?30?%;left:%?-18?%}.talk-list .item.push[data-v-3018aac2]{\r\n  /* 主轴为水平方向，起点在右端。使不修改DOM结构，也能改变元素排列顺序 */flex-direction:row-reverse}.talk-list .item.push .content[data-v-3018aac2]{margin-right:%?32?%;background-color:#a0e959}.talk-list .item.push .content[data-v-3018aac2]::after{content:"";display:block;width:0;height:0;border-top:%?16?% solid transparent;border-bottom:%?16?% solid transparent;border-left:%?20?% solid #a0e959;position:absolute;top:%?30?%;right:%?-18?%}',""]),t.exports=a},a96f:function(t,a,e){"use strict";e("7a82");var i=e("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("14d9"),e("ac1f"),e("841c"),e("c975"),e("fb6a");var n=e("f5aa"),o=(i(e("0e0c")),{data:function(){return{maybe_question:"你可能还想问：",talkList:[],ajax:{rows:20,page:1,flag:!0,loading:!0,loadText:"正在获取消息"},content:"",dom:null,pathogen:""}},mounted:function(){"mp-weixin"!=uni.getSystemInfoSync().uniPlatform&&(this.$refs.box2.$el.style.bottom="50px")},onPageScroll:function(t){},onLoad:function(){},omShow:function(){},created:function(){var t={id:(new Date).getTime(),content:{text:"欢迎来到AI中医馆,你可以向我们询问,例如:\n1.百日咳可以用什么方剂治疗\n2.我咳嗽怎么办\n3.焦虑症吃点什么好\n4.得了百日咳不能吃什么\n5.南瓜子仁可以治疗什么疾病\n"},type:0,pic:"https://axy-uni.oss-cn-beijing.aliyuncs.com/pic.png"};this.talkList.push(t)},methods:{send:function(){var t=this;if(this.content){var a={id:(new Date).getTime(),content:{text:this.content},type:1,pic:"https://axy-uni.oss-cn-beijing.aliyuncs.com/user.png"};this.talkList.push(a);var e={search:a.content.text};this.pathogen=e,this.$nextTick((function(){var a={search:t.pathogen.search};(0,n.query)(a).then((function(a){var e=a.type,i=a.variety,n=a.orig;if(0==e){var o={id:(new Date).getTime(),content:{text:a.data},type:0,pic:"/static/image/other/pic.png"};t.talkList.push(o)}else if(1==e){var s=[];if(1==i){var c=[{text:"你可能还想问"+n+"的用法？"},{text:"你可能还想问"+n+"可以治疗的疾病？"},{text:"你可能还想问"+n+"由什么中药组成？"}];s=c}else if(2==i){var r=[{text:"你可能还想问"+n+"的用法？"},{text:"你可能还想问"+n+"可以治疗的疾病？"},{text:"你可能还想问"+n+"由什么中药组成？"}];s=r}else if(3==i){var l=[{text:"1.你可能还想问"+n+"可以治疗的疾病？"},{text:"2.你可能还想问"+n+"由什么中药组成？"}];s=l}else if(4==i){var d=[{text:"1.你可能还想问"+n+"的用法？"},{text:"2.你可能还想问"+n+"可以治疗的症状？"},{text:"3.你可能还想问"+n+"由什么中药组成？"}];s=d}else if(5==i){var f=[{text:"1.你可能还想问"+n+"的用法？"},{text:"2.你可能还想问"+n+"可以治疗的疾病？"},{text:"3.你可能还想问"+n+"由什么中药组成？"}];s=f}else if(6==i){var u=[{text:"1.你可能还想问"+n+"可以治疗的疾病？"},{text:"2.你可能还想问"+n+"的用法？"},{text:"3.你可能还想问"+n+"可以治疗的症状？"}];s=u}else if(7==i){var v=[{text:"1.你可能还想问"+n+"可以治疗的疾病？"},{text:"2.你可能还想问"+n+"的用法？"},{text:"3.你可能还想问"+n+"可以治疗的症状？"}];s=v}else if(8==i){var p=[{text:n+"可以吃的食物"}];s=p}else if(9==i){var x=[{text:n+"不可以吃的食物"}];s=x}else if(10==i){s=[{text:"这些疾病可以用什么方剂治疗"},{text:"这些疾病吃点什么好"}]}else if(11==i){s=[{text:"这些疾病可以用什么方剂治疗"},{text:"这些疾病吃点什么好"}]}else if(12==i){s=[{text:"为你查找到了以下疾病或症状，你想查找那种疾病或症状呢？"}]}var h={id:(new Date).getTime(),content:{text:a.data,havePossibleIssues:s},type:0,types:e,pic:"/static/image/other/pic.png"};t.talkList.push(h)}else if(2==e){var g=[],b=1;for(var m in a.data){var w=a.data[m],_={medicine:m,text:b+"."+w};g.push(_),b++}var k={id:(new Date).getTime(),content:{haveSymptom:g},type:0,pic:"/static/image/other/pic.png",variety:i,types:e};t.talkList.push(k),console.log(t.talkList)}t.$nextTick((function(){setTimeout((function(){uni.pageScrollTo({scrollTop:9999,duration:0})}),1e3)}))})),t.content="",uni.pageScrollTo({scrollTop:999999999,duration:0,success:function(){}})}))}else uni.showToast({title:"请输入有效的内容",icon:"none"})},clickIssues:function(t){var a=this,e=t.text,i=e.indexOf("你可能还想问")+6;e=e.substring(i,e.length);var o={search:e};(0,n.query)(o).then((function(t){var e={id:(new Date).getTime(),content:{text:t.data},type:0,pic:"/static/image/other/pic.png"};a.talkList.push(e),a.$nextTick((function(){setTimeout((function(){uni.pageScrollTo({scrollTop:9999,duration:0})}),1e3)}))}))},clickSymptom:function(t,a){console.log(t,a);var e=t.text.split(".").slice(-1);if(5==a.variety){var i=t.medicine+"用法";this.content=i,this.send()}var n={id:(new Date).getTime(),content:{text:e[0]+"。这些症状适应的方剂是："+t.medicine},type:0,pic:"/static/image/other/pic.png"};this.talkList.push(n),this.$nextTick((function(){setTimeout((function(){uni.pageScrollTo({scrollTop:9999,duration:0})}),1e3)}))}}});a.default=o},bbe7:function(t,a,e){"use strict";e.r(a);var i=e("a96f"),n=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(o);a["default"]=n.a},d662:function(t,a,e){var i=e("7573");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("51a71098",i,!0,{sourceMap:!1,shadowMode:!1})},f0f3:function(t,a,e){"use strict";e.r(a);var i=e("36ca"),n=e("bbe7");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(o);e("6f8c");var s=e("f0c5"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"3018aac2",null,!1,i["a"],void 0);a["default"]=c.exports}}]);